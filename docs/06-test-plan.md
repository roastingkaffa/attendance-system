# 完整功能測試計畫

## 概述
本文件定義禾一考勤系統的完整功能測試計畫，用於驗證所有功能模組正常運作。

## 測試環境

| 項目 | 設定 |
|------|------|
| 前端 | http://localhost:5173/ 或 ngrok URL |
| 後端 | http://localhost:8000/ |
| 測試工具 | Playwright MCP 自動化 |
| 資料庫 | SQLite (開發環境) |

---

## 測試帳號

| 角色 | 帳號 | 密碼 | 權限說明 |
|------|------|------|----------|
| 一般員工 | EMP001 | password123 | 基本打卡、申請功能 |
| 部門主管 | MGR001 | password123 | 部門管理、審批功能 |
| HR管理員 | HR001 | password123 | 員工管理、系統設定 |
| 總經理 | CEO001 | password123 | 全公司權限 |

---

## 測試項目

### 1. EMP001 (一般員工) - 基本功能

| 編號 | 功能 | 測試內容 | 預期結果 |
|------|------|----------|----------|
| 1.1 | 登入 | 使用帳密登入 | 成功進入首頁 |
| 1.2 | GPS 打卡 | 上班/下班打卡 | 顯示打卡成功訊息 |
| 1.3 | 請假申請 | 填寫並送出請假單 | 顯示申請已送出 |
| 1.4 | 加班申請 | 填寫並送出加班單 | 顯示申請已送出 |
| 1.5 | 補打卡申請 | 填寫並送出補打卡單 | 顯示申請已送出 |
| 1.6 | 出勤報表 | 查看個人出勤報表 | 顯示報表資料 |
| 1.7 | 通知中心 | 查看通知列表 | 顯示通知內容 |
| 1.8 | 登出 | 點擊登出按鈕 | 返回登入頁面 |

### 2. MGR001 (部門主管) - 審批功能

| 編號 | 功能 | 測試內容 | 預期結果 |
|------|------|----------|----------|
| 2.1 | 登入 | 使用帳密登入 | 成功進入首頁，顯示主管選單 |
| 2.2 | 主管儀表板 | 查看部門出勤總覽 | 顯示部門員工出勤狀態 |
| 2.3 | 請假審批 | 核准/駁回請假單 | 顯示審批成功訊息 |
| 2.4 | 加班審批 | 核准/駁回加班單 | 顯示審批成功訊息 |
| 2.5 | 補打卡審批 | 核准/駁回補打卡單 | 顯示審批成功訊息 |
| 2.6 | 部門報表 | 查看部門出勤報表 | 顯示部門報表資料 |
| 2.7 | 登出 | 點擊登出按鈕 | 返回登入頁面 |

### 3. HR001 (HR管理員) - 管理功能

| 編號 | 功能 | 測試內容 | 預期結果 |
|------|------|----------|----------|
| 3.1 | 登入 | 使用帳密登入 | 成功進入首頁，顯示 HR 選單 |
| 3.2 | 員工管理 | 查看員工列表 | 顯示員工清單 |
| 3.3 | 部門管理 | 查看部門列表 | 顯示部門清單 |
| 3.4 | 資料匯出 | 匯出 Excel/CSV | 成功下載檔案 |
| 3.5 | 登出 | 點擊登出按鈕 | 返回登入頁面 |

### 4. CEO001 (總經理) - 全權限驗證

| 編號 | 功能 | 測試內容 | 預期結果 |
|------|------|----------|----------|
| 4.1 | 登入 | 使用帳密登入 | 成功進入首頁，顯示全部選單 |
| 4.2 | 全公司儀表板 | 查看全公司出勤 | 顯示所有部門出勤狀態 |
| 4.3 | 跨部門審批 | 審批任意部門申請 | 顯示審批成功訊息 |
| 4.4 | 登出 | 點擊登出按鈕 | 返回登入頁面 |

---

## 測試流程

```
┌─────────────────────────────────────────────────────────────┐
│  Phase 1: 員工申請                                           │
│  EMP001 登入 → 申請請假/加班/補打卡 → 登出                    │
└─────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────┐
│  Phase 2: 主管審批                                           │
│  MGR001 登入 → 審批上述申請 → 登出                           │
└─────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────┐
│  Phase 3: 結果驗證                                           │
│  EMP001 登入 → 確認審批結果 → 登出                           │
└─────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────┐
│  Phase 4: HR 功能                                            │
│  HR001 登入 → 員工管理/匯出 → 登出                           │
└─────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────┐
│  Phase 5: CEO 驗證                                           │
│  CEO001 登入 → 驗證全權限 → 登出                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 驗收標準

| 指標 | 標準 |
|------|------|
| 通過率 | 100% |
| 關鍵功能 | 登入、打卡、申請、審批必須全部通過 |
| 錯誤處理 | 無 500 錯誤、無 JavaScript 錯誤 |

---

## 測試紀錄範本

```markdown
### 測試日期: YYYY-MM-DD

#### 測試結果摘要
- 總測試項目: XX
- 通過: XX
- 失敗: XX
- 通過率: XX%

#### 失敗項目 (如有)
| 編號 | 功能 | 錯誤描述 | 狀態 |
|------|------|----------|------|
| X.X | XXX | XXX | 待修復 |

#### 備註
- ...
```

---

## 更新紀錄

| 日期 | 版本 | 修改內容 |
|------|------|----------|
| 2026-01-30 | 1.0 | 初版建立 |
