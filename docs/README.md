# å®å…¨å‡ºå‹¤ç®¡ç†ç³»çµ± v2.0 - Spec Kit

## æ–‡ä»¶ç¸½è¦½

æœ¬ Spec Kit åŒ…å«å®å…¨å‡ºå‹¤ç®¡ç†ç³»çµ±ï¼ˆAttendance Management System, AMSï¼‰v2.0 çš„å®Œæ•´æŠ€è¡“è¦æ ¼èˆ‡è¨­è¨ˆæ–‡ä»¶ã€‚é€™å¥—æ–‡ä»¶æ—¨åœ¨æä¾›é–‹ç™¼åœ˜éšŠå®Œæ•´ã€å¯åŸ·è¡Œçš„æŠ€è¡“æŒ‡å¼•ï¼Œç¢ºä¿ç³»çµ±é‡æ§‹é †åˆ©é€²è¡Œã€‚

---

## ğŸ“š æ–‡ä»¶æ¸…å–®

| æ–‡ä»¶ç·¨è™Ÿ | æ–‡ä»¶åç¨± | èªªæ˜ | é æ•¸ |
|---------|---------|------|------|
| 01 | [éœ€æ±‚è¦æ ¼æ›¸](./01-requirements-specification.md) | åŠŸèƒ½éœ€æ±‚ã€éåŠŸèƒ½éœ€æ±‚ã€ä½¿ç”¨è€…æ•…äº‹ | ~80 é  |
| 02 | [ç³»çµ±æ¶æ§‹è¨­è¨ˆæ›¸](./02-system-architecture.md) | æ•´é«”æ¶æ§‹ã€æŠ€è¡“é¸å‹ã€å®‰å…¨æ¶æ§‹ã€éƒ¨ç½²æ¶æ§‹ | ~70 é  |
| 03 | [è³‡æ–™åº«è¨­è¨ˆæ–‡ä»¶](./03-database-design.md) | ER åœ–ã€è³‡æ–™è¡¨å®šç¾©ã€ç´¢å¼•è¨­è¨ˆã€é·ç§»è¨ˆç•« | ~90 é  |
| 04 | [API è¦æ ¼æ–‡ä»¶](./04-api-specification.md) | RESTful API ç«¯é»ã€è«‹æ±‚/å›æ‡‰æ ¼å¼ã€éŒ¯èª¤ç¢¼ | ~100 é  |
| 05 | [å‰ç«¯æ¶æ§‹è¨­è¨ˆæ–‡ä»¶](./05-frontend-architecture.md) | å…ƒä»¶è¨­è¨ˆã€ç‹€æ…‹ç®¡ç†ã€è·¯ç”±è¨­è¨ˆã€æ¨£å¼è¦ç¯„ | ~60 é  |
| 06 | [æ¸¬è©¦è¨ˆç•«](./06-testing-plan.md) | æ¸¬è©¦ç­–ç•¥ã€æ¸¬è©¦æ¡ˆä¾‹ã€æ¸¬è©¦ç’°å¢ƒ | ~40 é  |
| 07 | [éƒ¨ç½²èˆ‡ç¶­é‹è¨ˆç•«](./07-deployment-operations.md) | ç’°å¢ƒé…ç½®ã€CI/CDã€ç›£æ§ã€å‚™ä»½ | ~50 é  |
| 08 | [é–‹ç™¼æ’ç¨‹](./08-development-schedule.md) | é‡Œç¨‹ç¢‘ã€å·¥ä½œåˆ†é…ã€é¢¨éšªç®¡ç† | ~30 é  |

**ç¸½è¨ˆ**: ~520 é 

---

## ğŸ¯ å°ˆæ¡ˆç›®æ¨™

### 1. å®‰å…¨æ€§å¼·åŒ–
- âœ… æ‰€æœ‰æ¥­å‹™é‚è¼¯ç§»è‡³å¾Œç«¯
- âœ… æ¶ˆé™¤å‰ç«¯å¯ç«„æ”¹é¢¨éšª
- âœ… ç¬¦åˆ OWASP Top 10 å®‰å…¨æ¨™æº–

### 2. æ¶æ§‹é‡æ§‹
- âœ… å‰å¾Œç«¯åˆ†é›¢ã€æ¨¡çµ„åŒ–è¨­è¨ˆ
- âœ… å¯ç¶­è­·æ€§æå‡ 80%
- âœ… ç¨‹å¼ç¢¼è¦†è“‹ç‡ > 80%

### 3. åŠŸèƒ½å®Œå–„
- âœ… æ–°å¢å¯©æ‰¹æµç¨‹
- âœ… æ–°å¢å ±è¡¨çµ±è¨ˆ
- âœ… æ–°å¢æ¬Šé™ç®¡ç†
- âœ… æ–°å¢ç•°å¸¸è™•ç†

### 4. æ•ˆèƒ½å„ªåŒ–
- âœ… æ”¯æ´ 1000+ å“¡å·¥ä¸¦ç™¼æ‰“å¡
- âœ… API å›æ‡‰æ™‚é–“ < 200ms (P95)
- âœ… ç³»çµ±å¯ç”¨ç‡ 99.5%

---

## ğŸ—ï¸ ç³»çµ±æ¶æ§‹æ¦‚è¦½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   å‰ç«¯å±¤ (Frontend)                   â”‚
â”‚  React 19 + Vite + Tailwind CSS + Axios             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ HTTPS / JSON
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   API å±¤ (Backend)                    â”‚
â”‚  Django 5.1 + DRF + Session Authentication          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ ORM
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 è³‡æ–™å±¤ (Database)                     â”‚
â”‚  MySQL 8.0 + Redis (Cache)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š æ ¸å¿ƒæ•¸æ“šæ¨¡å‹

```
Employees (å“¡å·¥)
    â†“ 1:N
EmpCompanyRel (é—œè¯è¡¨)
    â†“ 1:N              â†“ 1:N
AttendanceRecords    LeaveRecords
                         â†“ 1:N
                    ApprovalRecords
```

---

## ğŸ”‘ é—œéµæŠ€è¡“æ±ºç­–

### å¾Œç«¯
| æŠ€è¡“ | é¸æ“‡ | ç†ç”± |
|------|------|------|
| Web Framework | Django 5.1 | å¿«é€Ÿé–‹ç™¼ã€å®‰å…¨æ€§é«˜ã€åœ˜éšŠç†Ÿæ‚‰ |
| API Framework | Django REST Framework | RESTfulã€æ–‡ä»¶è‡ªå‹•ç”¢ç”Ÿ |
| è³‡æ–™åº« | MySQL 8.0 | ç©©å®šå¯é ã€å…¬å¸æ¨™æº– |
| èªè­‰æ–¹å¼ | Session-based | Django åŸç”Ÿæ”¯æ´ã€å®‰å…¨æ€§é«˜ |
| å¿«å– | Redis | æ•ˆèƒ½å„ªåŒ–ã€Session å„²å­˜ |

### å‰ç«¯
| æŠ€è¡“ | é¸æ“‡ | ç†ç”± |
|------|------|------|
| UI Framework | React 19 | ç”Ÿæ…‹ç³»æˆç†Ÿã€åœ˜éšŠç†Ÿæ‚‰ |
| å»ºç½®å·¥å…· | Vite | å»ºç½®é€Ÿåº¦å¿« 10-100 å€ |
| CSS Framework | Tailwind CSS | å¿«é€ŸåŸå‹é–‹ç™¼ |
| HTTP Client | Axios | åŠŸèƒ½å®Œæ•´ã€æ˜“ç”¨ |
| ç‹€æ…‹ç®¡ç† | Context API | ç°¡å–®å¤ ç”¨ã€é¿å…éåº¦å·¥ç¨‹ |

---

## ğŸš€ å¿«é€Ÿé–‹å§‹

### å‰ç½®éœ€æ±‚
- Python 3.11+
- Node.js 20+
- MySQL 8.0+
- Git

### å¾Œç«¯è¨­å®š

```bash
# 1. å»ºç«‹è™›æ“¬ç’°å¢ƒ
cd ams
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# 2. å®‰è£ä¾è³´
pip install -r requirements.txt

# 3. é…ç½®ç’°å¢ƒè®Šæ•¸
cp .env.example .env
# ç·¨è¼¯ .envï¼Œè¨­å®š SECRET_KEYã€DATABASE_URL ç­‰

# 4. åŸ·è¡Œé·ç§»
python manage.py migrate

# 5. å»ºç«‹è¶…ç´šä½¿ç”¨è€…
python manage.py createsuperuser

# 6. å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
python manage.py runserver
```

### å‰ç«¯è¨­å®š

```bash
# 1. å®‰è£ä¾è³´
cd my-project
npm install

# 2. é…ç½®ç’°å¢ƒè®Šæ•¸
cp .env.example .env.development
# ç·¨è¼¯ .env.developmentï¼Œè¨­å®š VITE_API_BASE_URL

# 3. å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
npm run dev
```

### è¨ªå•æ‡‰ç”¨

- å‰ç«¯: http://localhost:5173
- å¾Œç«¯: http://localhost:8000
- API æ–‡ä»¶: http://localhost:8000/api/docs/
- Django Admin: http://localhost:8000/admin/

---

## ğŸ“ é–‹ç™¼æµç¨‹

### 1. åˆ†æ”¯ç­–ç•¥ (Git Flow)

```
main (æ­£å¼ç’°å¢ƒ)
  â†‘
develop (é–‹ç™¼ç’°å¢ƒ)
  â†‘
feature/xxx (åŠŸèƒ½åˆ†æ”¯)
```

### 2. Commit Message è¦ç¯„

ä½¿ç”¨ Conventional Commits:

```
<type>(<scope>): <subject>

<body>

<footer>
```

**Type**:
- `feat`: æ–°åŠŸèƒ½
- `fix`: Bug ä¿®å¾©
- `docs`: æ–‡ä»¶è®Šæ›´
- `style`: ç¨‹å¼ç¢¼æ ¼å¼ï¼ˆä¸å½±éŸ¿åŠŸèƒ½ï¼‰
- `refactor`: é‡æ§‹ï¼ˆä¸æ˜¯æ–°åŠŸèƒ½æˆ– Bug ä¿®å¾©ï¼‰
- `test`: æ–°å¢æˆ–ä¿®æ”¹æ¸¬è©¦
- `chore`: å»ºç½®æµç¨‹æˆ–è¼”åŠ©å·¥å…·è®Šæ›´

**ç¯„ä¾‹**:
```
feat(attendance): å¯¦ä½œå¾Œç«¯æ‰“å¡é©—è­‰é‚è¼¯

- æ–°å¢ GPS è·é›¢è¨ˆç®—å‡½å¼
- æ–°å¢ QR Code åº§æ¨™é©—è­‰
- æ–°å¢æ‰“å¡æ™‚é–“ç”¢ç”Ÿé‚è¼¯

Closes #123
```

### 3. Code Review æµç¨‹

1. é–‹ç™¼è€…å»ºç«‹ Pull Request
2. è‡³å°‘ 1 ä½ Reviewer å¯©æ ¸
3. CI æ¸¬è©¦é€šé
4. Merge è‡³ develop

---

## ğŸ§ª æ¸¬è©¦

### å¾Œç«¯æ¸¬è©¦

```bash
# åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦
pytest

# åŸ·è¡Œç‰¹å®šæ¸¬è©¦æª”æ¡ˆ
pytest attendance/tests/test_views.py

# ç”¢ç”Ÿè¦†è“‹ç‡å ±å‘Š
pytest --cov=./attendance --cov-report=html
```

### å‰ç«¯æ¸¬è©¦

```bash
# åŸ·è¡Œå–®å…ƒæ¸¬è©¦
npm run test

# åŸ·è¡Œ E2E æ¸¬è©¦
npm run test:e2e

# ç”¢ç”Ÿè¦†è“‹ç‡å ±å‘Š
npm run test:coverage
```

---

## ğŸ“¦ éƒ¨ç½²

### é–‹ç™¼ç’°å¢ƒ

```bash
# å¾Œç«¯
python manage.py runserver

# å‰ç«¯
npm run dev
```

### æ¸¬è©¦ç’°å¢ƒ

```bash
# ä½¿ç”¨ Docker Compose
docker-compose -f docker-compose.test.yml up -d
```

### æ­£å¼ç’°å¢ƒ

```bash
# ä½¿ç”¨ CI/CD Pipeline (GitHub Actions)
git push origin main
```

è©³è¦‹: [éƒ¨ç½²èˆ‡ç¶­é‹è¨ˆç•«](./07-deployment-operations.md)

---

## ğŸ› å·²çŸ¥å•é¡Œèˆ‡æ”¹é€²è¨ˆç•«

### ç¾æœ‰ç³»çµ±å•é¡Œ

| å•é¡Œ | å„ªå…ˆç´š | ç‹€æ…‹ | è§£æ±ºæ–¹æ¡ˆ |
|------|--------|------|---------|
| æ¥­å‹™é‚è¼¯åœ¨å‰ç«¯ | P0 | âœ… å·²ä¿®å¾© | ç§»è‡³å¾Œç«¯ |
| SECRET_KEY æ˜æ–‡ | P0 | âœ… å·²ä¿®å¾© | ç’°å¢ƒè®Šæ•¸ç®¡ç† |
| å¯†ç¢¼å­˜ SessionStorage | P0 | âœ… å·²ä¿®å¾© | ç§»é™¤ï¼Œæ”¹ç”¨ Session |
| DEBUG=True | P0 | âœ… å·²ä¿®å¾© | æ­£å¼ç’°å¢ƒé—œé–‰ |
| å‰ç«¯éæ–¼é¾å¤§ | P1 | âœ… å·²ä¿®å¾© | å…ƒä»¶æ‹†åˆ† |
| ç¼ºä¹å¯©æ‰¹æµç¨‹ | P1 | ğŸ”„ é–‹ç™¼ä¸­ | Phase 2 |
| ç¼ºä¹å ±è¡¨çµ±è¨ˆ | P1 | ğŸ“‹ å¾…é–‹ç™¼ | Phase 2 |
| ç¼ºä¹æ¬Šé™åˆ†ç´š | P1 | ğŸ”„ é–‹ç™¼ä¸­ | Phase 2 |
| ç¼ºä¹æ¸¬è©¦ | P2 | ğŸ“‹ å¾…é–‹ç™¼ | Phase 3 |

---

## ğŸ“ æ”¯æ´èˆ‡è¯çµ¡

### é–‹ç™¼åœ˜éšŠ

| è§’è‰² | å§“å | Email | è² è²¬ç¯„åœ |
|------|------|-------|---------|
| å°ˆæ¡ˆç¶“ç† | - | - | æ•´é«”è¦åŠƒã€é€²åº¦ç®¡ç† |
| å¾Œç«¯å·¥ç¨‹å¸« | - | - | Django APIã€è³‡æ–™åº« |
| å‰ç«¯å·¥ç¨‹å¸« | - | - | React UIã€ä½¿ç”¨è€…é«”é©— |
| QA å·¥ç¨‹å¸« | - | - | æ¸¬è©¦ã€å“è³ªä¿è­‰ |

### å•é¡Œå›å ±

- GitHub Issues: https://github.com/your-org/attendance-system/issues
- Email: dev@company.com

---

## ğŸ“š åƒè€ƒè³‡æº

### æŠ€è¡“æ–‡ä»¶
- [Django å®˜æ–¹æ–‡ä»¶](https://docs.djangoproject.com/)
- [Django REST Framework](https://www.django-rest-framework.org/)
- [React å®˜æ–¹æ–‡ä»¶](https://react.dev/)
- [Tailwind CSS](https://tailwindcss.com/)
- [Vite](https://vitejs.dev/)

### å®‰å…¨æ¨™æº–
- [OWASP Top 10](https://owasp.org/www-project-top-ten/)
- [OWASP API Security](https://owasp.org/www-project-api-security/)

### é–‹ç™¼è¦ç¯„
- [Conventional Commits](https://www.conventionalcommits.org/)
- [Semantic Versioning](https://semver.org/)
- [PEP 8 (Python)](https://pep8.org/)
- [ESLint (JavaScript)](https://eslint.org/)

---

## ğŸ“œ æˆæ¬Š

æœ¬å°ˆæ¡ˆç‚ºå®å…¨åœ‹éš›é›†åœ˜å…§éƒ¨å°ˆæ¡ˆï¼Œæ‰€æœ‰æ¬Šåˆ©ä¿ç•™ã€‚

---

## ğŸ“… ç‰ˆæœ¬æ­·å²

| ç‰ˆæœ¬ | æ—¥æœŸ | è®Šæ›´å…§å®¹ |
|------|------|---------|
| 1.0.0 | 2025-11-19 | åˆç‰ˆç™¼å¸ƒ |

---

## ğŸ™ è‡´è¬

æ„Ÿè¬æ‰€æœ‰åƒèˆ‡æœ¬å°ˆæ¡ˆè¦åŠƒèˆ‡é–‹ç™¼çš„åœ˜éšŠæˆå“¡ï¼

---

**æœ€å¾Œæ›´æ–°**: 2025-11-19
**ç¶­è­·è€…**: ç³»çµ±æ¶æ§‹åœ˜éšŠ
