# WebCmd - Web 應用系統管理指令

這個指令用於分析、檢視和驗證整個 web 應用系統。

## 使用方式

```
/webcmd [子命令] [額外說明]
```

## 子命令

### 1. `analysis` - 系統架構分析

**功能**：對整個 web 應用進行全面的架構分析

**使用的 Agent**：`full-stack-system-analyst`

**分析內容**：
- 專案整體架構（前端、後端、資料庫）
- 技術堆疊識別與評估
- 檔案結構與組織方式
- 模組之間的依賴關係
- 潛在的架構問題與改善建議
- 效能瓶頸識別
- 擴展性評估

**使用範例**：
```
/webcmd analysis
/webcmd analysis 重點分析前後端的資料流
/webcmd analysis 評估目前架構的擴展性
```

---

### 2. `review` - 程式碼品質檢視

**功能**：全面檢視程式碼庫的品質與最佳實踐

**檢視項目**：
- 程式碼風格一致性
- TypeScript 型別安全性
- 錯誤處理機制
- 安全性問題（XSS、SQL Injection、CSRF 等）
- 效能問題（N+1 查詢、記憶體洩漏等）
- 最佳實踐遵循度
- 程式碼重複與可重構機會
- 註解與文件完整性
- 測試覆蓋率

**使用範例**：
```
/webcmd review
/webcmd review 重點檢查安全性問題
/webcmd review 分析 API 層的錯誤處理
```

---

### 3. `verify` - 系統功能完整性驗證

**功能**：驗證系統各項功能是否正常運作

**使用的 Agent**：`test-architect-automator`

**驗證項目**：
- 前端功能驗證
  - 頁面路由是否正確
  - UI 元件是否完整
  - 表單驗證邏輯
  - 狀態管理正確性
- 後端功能驗證
  - API 端點可用性
  - 請求/回應格式正確性
  - 錯誤處理機制
  - 驗證與權限控制
- 資料庫驗證
  - Schema 完整性
  - 資料關聯正確性
  - 索引設置
- 整合驗證
  - 前後端串接
  - 第三方服務整合
  - 環境變數設定

**使用範例**：
```
/webcmd verify
/webcmd verify 重點驗證登入與權限流程
/webcmd verify 檢查 API 端點的可用性
```

---

## 執行邏輯

當你執行 `/webcmd [子命令]` 時，會根據子命令執行對應的任務：

### 如果是 `analysis`：
1. 使用 Task tool 啟動 `full-stack-system-analyst` agent
2. 進行全面的系統架構分析
3. 產出分析報告，包含：
   - 架構圖解說明
   - 技術堆疊清單
   - 優勢與問題點
   - 改善建議

### 如果是 `review`：
1. 系統性掃描整個 codebase
2. 檢查各層級的程式碼品質
3. 產出檢視報告，包含：
   - 問題清單（依嚴重程度排序）
   - 具體的程式碼位置
   - 修正建議
   - 最佳實踐建議

### 如果是 `verify`：
1. 使用 Task tool 啟動 `test-architect-automator` agent
2. 驗證系統各項功能
3. 產出驗證報告，包含：
   - 功能檢查清單
   - 發現的問題
   - 測試建議
   - 需要補強的測試

---

## 組合使用建議

在開發流程中的使用時機：

1. **專案初期/接手專案**
   ```
   /webcmd analysis  # 先了解整體架構
   ```

2. **開發過程中定期檢查**
   ```
   /webcmd review    # 檢視程式碼品質
   ```

3. **準備部署前**
   ```
   /webcmd verify    # 驗證功能完整性
   ```

4. **完整檢查流程**
   ```
   /webcmd analysis  # 1. 分析架構
   /webcmd review    # 2. 檢視品質
   /webcmd verify    # 3. 驗證功能
   ```

---

## 注意事項

- 💡 這些指令會掃描整個專案，執行時間可能較長
- 📊 建議在有明確檢查目標時，在指令後加上額外說明
- 🔍 如果只需要檢查特定部分，可以使用專門的 `/fe`、`/be`、`/db` 指令
- 💾 大型分析建議在 git 有 commit 的狀態下執行

---

*最後更新：2025-11-19*
